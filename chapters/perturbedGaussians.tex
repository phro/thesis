% Note that depending on your settings in the table of contents, subsections and subsubsections might appear virtually identical.
% Make sure to set the ToC depth and the numbering depth in the ToC the way you want.
\chapter{Perturbed Gaußians}\label{ch:perturbed_gaussians}
We now summarize the work of Bar-Natan and van der Veen in \cite{BV}, which
develops a universal knot invariant using perturbed Gaußians. 


\section{Expressing morphisms as generating functions}

When defining a morphism-valued tangle invariant, one needs a compact way of
encoding the morphism. In \cite{BV} this is achieved through the use of
generating functions, whose definition we reproduce below:

For $A$ and $B$ finite sets, consider the set $\hom(\polyring{\Q}{z_A},
\polyring{\Q}{z_B})$ of linear maps between multivariate polynomial rings. Such
a map is determined by its values on the monomials $z_A^\nn$ for each
multi-index $\nn \in \N^A$.

\begin{definition}[Exponential generating function]
        The \defi{exponential generating function} of a map
        $\map {Φ} {\polyring{\Q}{z_A}} {\polyring{\Q}{z_B}}$ between polynomial
        spaces is
        \begin{equation}\label{eq:genfunc}
                \Gen{Φ} \defeq
                \Sum[\nn\in\N^A] \frac{Φ(z_A^\nn)}{\nn!}ζ_A^\nn
                \in \powerseries{\polyring{\Q}{z_B}}{ζ_A}
        \end{equation}
\end{definition}
\begin{remark}
        Extending the definition of $Φ$ to
        $\powerseries{\polyring{\Q}{z_B}}{ζ_A}$ by the extending scalars to
        $\powerseries{\Q}{ζ_A}$ gives us an equivalent formulation:
        \begin{equation}
                \Gen{Φ}
                = Φ\pn*{\Sum[\nn\in\N^A] \frac{(z_Aζ_A)^\nn}{\nn!}}
                = Φ\pn*{\Gen[\big]{\id_{\polyring{\Q}{z_A}}}}
        \end{equation}
\end{remark}

By the PBW theorem, we know that $\CU$ is isomorphic as a vector space to the
polynomial ring $\polyring{\Q}{y, b, a, x}$ by choosing an ordering of the
generators (following \cite{BV}, we use $(y, b, a, x)$):
\begin{equation}\label{eq:order_map}
        \mapdef {\Order} {\polyring{\Q}{y, b, a, x}} [\toiso] {\CU}
        {y^{n_1}b^{n_2}a^{n_3}x^{n_4}} {y^{n_1}b^{n_2}a^{n_3}x^{n_4}}
\end{equation}

Using this vector space isomorphism, \cite{BV} expresses all Hopf algebra
operations as perturbed Gaußians. To extend the resulting tangle invariant to
one on links, one would need to define a trace operator on $\CU$. The first
natural place to look is the coinvariants,
$\CU_\CU = \fracl{\CU}{\liebk{\CU}{\CU}}$. In what follows, we will compute
$\CU_\CU$, determine a vector space isomorphism to a suitable polynomial ring,
and compute the corresponding generating function of the quotient map $\map
{\trace} {\CU} {\CU_\CU}$.

\section{Rotational tangle invariants from a ribbon Hopf algebra}
Here we describe the morphism from the category of pure rotational virtual
tangles to a ribbon Hopf algebra, as outlined by Bar-Natan and van der Veen in
\cite{BV}.

We define the morphism of meta-ribbon Hopf algebras in two steps:
\begin{enumerate}
        \item Given a pure tangle, we write out a sequence of meta-ribbon Hopf
                algebra operations which produce the tangle. Each operation is
                then mapped to the corresponding operation on the algebra, with
                a sequence of operations mapped to composition.
        \item Since computing compositions of operations is an essential
                component to this invariant, we then define an equivalent
                category which allows for the more efficient computation. This
                is done by replacing morphisms 
\end{enumerate}

\ProvideDocumentCommand{\UMaps}{}{\mcl{U}}
\ProvideDocumentCommand{\LinMaps}{}{\mcl{H}}
\ProvideDocumentCommand{\GenFunc}{}{\mcl{C}}
To efficiently describe $\K$-linear maps between tensor powers of the algebra
$\CU$, we define categories $\UMaps$, $\LinMaps$, and $\GenFunc$ with objects
finite sets and morphisms:
\begin{align}
        \Hom[\UMaps]JK &\defeq \Hom[\K]{\CU^{\otimes J}}{\CU^{\otimes K}}\\
        \Hom[\LinMaps]JK &\defeq \Hom[\K]{\polyring\Q{z_J}}{\polyring\Q{z_K}}\\
        \Hom[\GenFunc]JK &\defeq \powerseries{\polyring\Q{z_K}}{ζ_J}
\end{align}

There exist monoidal isomorphisms between these categories, namely $\map
{\Order} {\LinMaps} [\toiso] {\UMaps}$ and $\map {\GenMap} {\LinMaps} [\toiso]
{\GenFunc}$ as introduced in \cref{eq:order_map,eq:genfunc}.

We use this formulation because of the existence of a computationally amenable
subcategory of $\GenFunc$ which contains the image of this invariant.

\subsection{Formulating composition in other categories}
Composing operations in $\UMaps$ or $\LinMaps$ is straightforward to define, but
lacks a closed form. However, on $\GenFunc$, the corresponding definition of
composition takes the following form (quoted from \cite[Lemma~3]{BV}):

\begin{lemma}[Composition of generating functions]
Suppose $J$, $K$, $L$ are finite sets and
$ϕ ∈ \Hom{\polyring{\Q}{z_J}}{\polyring{\Q}{z_K}}$ and
$ψ ∈ \Hom{\polyring{\Q}{z_K}}{\polyring{\Q}{z_L}}$.
We have
\begin{equation}
        \Gen{ϕ\then ψ}
        = \restrict[\bigg]{
                \pn*{
                        \restrict*{\Gen{ϕ}}[z_K\to ∂ζ_K]
                        \Gen{ψ}
                }
        }[ζ_K=0]
\end{equation}
\end{lemma}

Since the above notation will occur several times, we will use the notion of
\defi{contraction} used by Bar-Natan and van der Veen (taken from
\cite[Definition~4]{BV}):

\begin{definition}[Contraction]\label{def:contraction}
        Let $f\in\powerseries{\K}{r, s}$ be a powerseries. The
        \defi{contraction} of $f = \Sum[k, l]{c_{k, l}r^{k}s^{l}}$ along the
        pair $(r, s)$ is:
        \begin{equation}
                \contraction{f}[(r, s)]
                \defeq \Sum[k] c_{k, k}k!
                = \restrict[\bigg]{\Sum[k, l]{c_{k, l} \partial_{s}^{k}s^{l}}}[s=0]
        \end{equation}
        Further, this notation is to be extended to allow for multiple
        consecutive contractions for $f\in \powerseries{\K}{r_i, s_i}_{i≤n}$:
        \begin{equation}
                \contraction{f}[\pn*{(r_i)_i, (s_i)_i}]
                \defeq
                \contraction*{
                        \contraction*{
                                \contraction{f}[(r_1, s_1)]
                        }[(r_2, s_2)]
                        \cdots
                }[(r_n, s_n)]
        \end{equation}
\end{definition}
It is important to note that contraction does not always define a convergent
expression. We will focus our attention on cases when convergence is
well-defined, and especially those where the computation is accessible.

The theorem we will rely heavily on in this thesis is the following, taken from
\cite[Theorem~6]{BV}:

\newcommand{\Wt}{\tilde{W}}
\begin{theorem}[Contraction theorem]
        For any $n\in \N$, consider the ring $R_n =
        \powerseries{\polyring{\Q}{r_j, g_j}}{s_j, W_{ij}, f_j
        \SetSymbol[\big] 1 ≤ i, j ≤ n}$. Then
        \begin{equation}
                \contraction{\Exp{gs + rf + rWs}}[r, s] = \det(\Wt)\Exp{g\Wt f}
        \end{equation}
        where $\Wt = \inv{(1-W)}$.
\end{theorem}

The main takeaway of this theorem is this: morphisms whose generating functions
are Gaußians have a clean formula for composition. Furthermore, this formula is
computationally reasonable, growing only polynomially in complexity with $n$.
This is contrasted with the conventional approach of choosing a representation
$V$ of $\CU$. When one considers morphisms between large tensor powers
$V^{\otimes n}$, the computational complexity is exponential in $n$.

\subsection{Expressing Hopf algebra operations as perturbed Gaußians}

\begin{thm}[The meta-Hopf structure of $\CU$ is Gaußian]
        We will now observe that the meta-Hopf algebra operations for $\CU$ as defined
        in \cref{sec:algebraic-definitions} all have the form of a perturbed Gaußian.
        Namely:

        \begin{align}
                \Gen*{\mult^{ij}_{k}} &=\exp\pn*
                {
                        (α_i + α_j)a_k +
                        (β_i + β_j + ξ_iη_j)b_k +
                        \pn*{\frac{ξ_i}{\A_j} + ξ_j} x_k+
                        \pn*{\frac{η_j}{\A_i}+ η_i }y_k
                } \label{eq:gen-mult}
                \\ \Gen*{\unit_{i}} &=1\label{eq:gen-unit}
                \\\Gen*{\comult^{i}_{jk}} &=\exp\pn*{
                        β_i(b_j + b_k) +
                        α_i(a_j + a_k) +
                        η_i(y_j + y_k) +
                        ξ_i(x_j + x_k)
                } \label{eq:gen-comult}
                \\\Gen*{\counit^{i}} &=1\label{eq:gen-counit}
                \\\Gen*{\antipode^{i}_{i}} &=\exp\pn*
                {
                        - a_iα_i
                        - b_iβ_i
                        - η_i\A_iy_i
                        - \A_iξ_ix_i
                        + η_i\A_iξ_ib_i
                }
                \label{eq:gen-antipode}
                \\\Gen*{\Rmat_{ij}} &=\exp\pn*{
                        a_j b_i + \frac{B_i-1}{-b_i} y_i x_j
                }\label{eq:gen-Rmat}
                \\\Gen*{\spin_{i}} &=\sqrt{B_i}\label{eq:gen-spin}
                \\\Gen*{\ribbon_{i}} &=\sqrt{B_i}\exp\pn*{
                        a_i b_i + \frac{1-B_i}{b_i}x_iy_i
                }\label{eq:gen-ribbon}
        \end{align}
\end{thm}

\begin{proof}
        To prove \cref{eq:gen-mult}, we first note the Weyl canonical
        commutation relation:
        \begin{equation}
                \Exp{ξx}\Exp{ηy} = \Exp{-ξηb}\Exp{ηy}\Exp{ξx}
        \end{equation}
        Secondly, using \cref{eq:xay_relations} and $\A\defeq \Exp{α}$, we
        compute
        \begin{equation}
                \Exp{αa}\Exp{ηy}
                = \Exp{αa}\Sum[n]\frac{(ηy)^n}{n!}
                = \Sum[n]\frac{(ηy)^n}{n!}\Exp{α(a-n)}
                = \Sum[n]\frac{(ηy)^n}{n!}\Exp{αa}\A^{-n}
                = \Exp{\frac{η}{\A}y}\Exp{αa}
        \end{equation}
        Using this relation allows us to commute exponentials past each other to
        bring expressions into $\Order_{ybax}$ form. Below we omit the index $k$
        for readability:
        \begin{equation}
                \begin{aligned}
                        \Gen{\mult^{ij}_{k}}
                        &= \mult^{ij}\pn{\Exp{
                                        η_iy_i + β_ib_i + α_ia_i + ξ_ix_i
                                }
                                \Exp{
                                        η_jy_j + β_jb_j + α_ja_j + ξ_jx_j
                                }
                        }\\
                        &= \Exp{
                                η_iy + β_ib + α_ia + ξ_ix
                        }
                        \Exp{
                                η_jy + β_jb + α_ja + ξ_jx
                        }\\
                        &= \Exp{η_iy}
                           \Exp{β_ib}
                           \Exp{α_ia}
                           \Exp{ξ_ix}
                           \Exp{η_jy}
                           \Exp{β_jb}
                           \Exp{α_ja}
                           \Exp{ξ_jx}\\
                        &= \Exp{η_iy}
                           \Exp{β_ib}
                           \Exp{α_ia}
                           \pn*{\Exp{-ξ_iη_jb}\Exp{η_jy}\Exp{ξ_ix}}
                           \Exp{β_jb}
                           \Exp{α_ja}
                           \Exp{ξ_jx}\\
                        &= \Exp{(β_j+ β_i-ξ_iη_j)b}
                           \Exp{η_iy}
                           \Exp{\frac{η_j}{\A_i}y}\Exp{α_ia}
                           \Exp{ξ_ix}
                           \Exp{α_ja}
                           \Exp{ξ_jx}\\
                        &= %TODO: finish
                \end{aligned}
        \end{equation}
\end{proof}

\subsection{Notational conventions}

The generating function of a tangle is not the entirety of this definition, for
the additional data is the domain and codomain of the corresponding morphism.

We will thereby write a morphism with domain $D$, codomain $C$, and generating
function $f(ζ_{D}, z_{C})$ as $f(ζ_{D}, z_{C})^{D}_{C}$. 

\begin{align}
        Z(\knot31) &= \pn*{
                \frac{1}{B_1^{-1} + 1 + B_1^1} 
        }^{\emptyset}_{\set{1}}
        = \inv{Δ(\knot31)}
        \\Z(\knot[a]{11}{10}) &= \pn*{
                \frac{1}
                {2B_1^{-3}-11B_1^{-2}+25B_1^{-1}-31+25B_1-11B_1^2+2B_1^3}
        }^{\emptyset}_{\set{1}}
        = \inv{Δ(\knot[a]{11}{10})}
\end{align}

Since each tangle is expressed as an object, the domains in these examples are
empty.
