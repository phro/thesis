\chapter{Code}
\section{Implementation of the invariant $Z$}
% todo: include a link to the source code. Ensure it is all on github (i.e. a
% stable website not likely to disappear in a few years).

\input{./GDO/src/newVersion.tex}

\section{Implementation of rotation number algorithm}

%\section{Generating \acp{RVT} for links}

\subsection{Converting knots to upright tangles}

Bar-Natan and van der Veen develop an algorithm to convert a classical long knot
into an upright tangle. As we are interested in links, we must extend this
algorithm to include so-called \enquote{long links}, which we outline below:
\begin{verbatim}
        1. Pass a front over the beginning of the open strand.
        2. Progressively absorb the leftmost crossings
                2a. As crossings are absorbed,
                    take into account any rotations of arcs.
        3. If an arc passes through the front twice, absorb it,
           taking into account any rotations of that arc as a
           result.
\end{verbatim}

\subsection{Extending the algorithm to multiple components}

An algorithm to convert a classical knot diagram into an upright knot diagram
was implemented by Bar-Natan and van der Veen. Here we generalize the algorithm
to convert a classical tangle with one open component to an upright tangle
diagram. This generalization allows us to consider tangle diagrams with multiple
components.

\begin{lemma}
        For each classical tangle with one open component, there exists a unique
        upright tangle whose unbounded arcs have rotation numbers $0$.
\end{lemma}
\begin{proof}
        See \cite{BV}, Lemma~43.
\end{proof}

This is a Haskell implementation\footnote{The full source code is available at
\url{https://github.com/phro/KnotTheory}.} of the algorithm \hs{toRVT},\footnote{Here, the
acronym \enquote{RVT} stands for \enquote{Rotational Virtual Tangle}, which is
another term for \enquote{Upright Tangle}.} which takes a classical tangle and
produces an upright tangle by computing a compatible choice of rotation numbers
for each arc.

\input{./KnotTheory/src/KnotTheory/PD.lhs}
