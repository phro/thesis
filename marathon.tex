\documentclass{article}
\usepackage{math}
\title{Computing the generating function of a coinvariants map}
\author{Jesse Frohlich}

\ProvideDocumentCommand{\fa}{}{\mfk{a}}
\ProvideDocumentCommand{\Alg}{}{\fg}
\ProvideDocumentCommand{\CU}{}{U}
\DeclarePairedDelimiterXPP{\Gen}[1]{\msc G}\lparen\rparen{}{#1}

\begin{document}
\maketitle

\section{Introduction}

In \cite{BNV}, Bar-Natan and Van der Veen define an invariant of tangles which
takes values in tensor powers of a (completed) universal enveloping algebra of a
Drinfeld double $D\fa$. Their work expresses the algebra operations as
cleverly-arranged generating functions to take advantage of computational
shortcuts.

To extend this invariant to one on links, one would need to define a trace
operator on $D\fa$. The first natural place to look is at the coinvariants
$\uea{D\fa}_{D\fa}$. In this article, we compute the coinvariants of
$\uea{D\fa}$ as well as the corresponding generating function.

\section{The algebra $\fa$ and the Drinfeld double}

\begin{definition}
        Denote by $\fa$ the non-commutative $2$-dimensional cocommutative Lie
        bialgebra spanned by $a$ and $x$ with relation $\liebk{a}{x} = x$. This
        is also a Borel subalgebra of $\Sl_2$.
\end{definition}

Recall from \cite{ES} that the Drinfeld double construction gives rise to a
quasitriangular Lie bialgebra $D\fa$ in the following way: As a vector space,
$D\fa = \fa \oplus \dual\fa$. Given $u \in \fa$ and $v\in \dual \fa$, we have
$\liebk{u}{v}_{D\fa} \defeq \dual\ad_u(v) - \dual\ad_v(u)$, extended bilinearly
and anticommutatively. The cobracket is given by
$δ_{D\fa} \defeq δ_\fa - δ_{\dual\fa}$.

Defining $b \defeq \dual a \in \dual\fa$ and $y \defeq \dual x \in \dual\fa$, we
have the relations $\liebk{a}{y}=-y$, $\liebk{x}{y}=b$, and $\liebk{b}{}=0$.
Additionally, the cobracket on $D\fa$ has values $δ(y) = y \wedge b$ and $δ(b) =
δ(a) = δ(x) = 0$.

In what follows, we will denote by $\fg$ the double $D\fa$, and by $U$ its
universal enveloping algebra $\uea{\fg} = \uea{D\fa}$.

\section{The coinvariants of $U$}

\begin{theorem}
        The space of coinvariants of $U$, $U_U$ is equal to
        $\Span\set{y^n a^k x^n}_{n, k\ge 0}$
\end{theorem}
\begin{proof}
First, observe that for any $u$, $v$, $f\in\CU$,
$\ad_{uv}(f) = \ad_u(vf) + \ad_v(fu)$. From this equation, we conclude that
$\CU_\CU = \CU_\Alg$, the latter of which we turn our attention to next.

Given a polynomial (respectively, power series) $f$, we have the following two
relations in $U$, (respectively, $\widehat U$)
\begin{align}
        f(a)y^r &= y^rf(a-r) &
        x^rf(a) &= f(a-r)x^r
\end{align}
Using these relations, we can compute the adjoint actions of $y$, $a$, and $x$
\begin{align}
  \ad_a f(x) &= xf'(x)&
  \ad_a f(y) &= -yf'(y)\label{eq:ada}\\
  \ad_x f(y) &= bf'(y) &
  \ad_x f(a) &= -\nabla[f](a)x\label{eq:adx}\\
  \ad_y f(x) &= -bf'(x) &
  \ad_y f(a) &= y\nabla[f](a)\label{eq:ady}
\end{align}
Here, $\nabla$ denotes the backwards difference operator $\nabla[f](x) \defeq
f(x) - f(x-1)$. Using the above commutation relations, we find a basis for
$U_{\fg}$ by determining $\liebk[\big] \fg U$. Observe for any $n$, $m$, $k$,
and polynomial $f$:
\begin{equation}\label{eq:adx_rel}
\ad_{x}\pn*{y^{n+1}b^{m-1}f(a)x^{k}} =
(n+1)y^{n}b^{m}f(a)x^{k} - y^{n+1}b^{m-1}\nabla[f](a)x^{k+1}
\end{equation}
Inductively applying the resulting relation in $U_{\fg}$, together with the
observation that for any polynomial $g$,
$\ad_a (y^m g(b, a) x^n ) = (n-m)y^mg(b, a) x^n$,
so any monomial whose powers of $y$ and $x$ differ vanish in $\CU_{\Alg}$. We
conclude that:
\begin{equation}
        y^n b^m f(a) x^k \sim δ_{nk}\frac{n!}{(n+m)!}y^{n+m}\nabla^m[f](a)x^{n+m}
\end{equation}
We conclude that $\CU_{\Alg}$ is spanned by expressions of the form
$y^n a^k x^n$.

All that remains to show is that these expressions are linearly independent. We
have already determined all the relations generated by $\ad_x$ and $\ad_a$.
Finally, $\ad_y$ introduces no new relations, since there is a symmetry between
$x$ and $y$. Specifically, observe:
\begin{equation}
        \ad_y\pn*{
                \frac1{k+1}y^n b^{m-1} f(a) x^{k+1}
        }
        =\frac1{k+1} y^{n+1} b^{m-1} \nabla[f](a)x^{k+1} - y^n b^m f(a) x^k
\end{equation}
which provides the same relation as \cref{eq:adx_rel}. We therefore conclude
that a basis for $\CU_{\Alg}$ is given by:
$\set[\big]{y^n a^k x^n}_{k, n \ge 0}$.
\end{proof}

\section{Deriving a formula for the trace}
Using the $(a, t)$-formulation of the space of coinvariants, we therefore have
the following trace map:
\begin{equation}
        \mapdef {\trace} {\CU} {\CU_{\Alg}}
                {y^n b^m f(a) x^k}
                {δ_{nk}{n!}\nabla^m[f](a)t^{n+m}}
\end{equation}

We name these basis elements in the following way: $a^k t^n \defeq n!y^n a^k x^n$.
\subsection{Iterated forward differences on $\Gen\id$}
Our goal is to compute a generating function for this trace map. This comes down
to computing $\trace\pn*{\Gen\id}= \trace\pn{\Exp{η y + β b + α a + ξ x}}$. To
do this, we begin with a result on finite differences:
\begin{lemma}\label{eq:findiffexp}
        The finite difference operator acts in the following way on
        exponentials:
        \begin{equation}
                \nabla^n[\Exp{αa}](a) = (1-\Exp{-α})^n\Exp{αa}
        \end{equation}
\end{lemma}
\begin{proof}
Using the formula $\nabla^n[f](x) = \Sum[k=0][n]\binom n k(-1)^kf(x-k)$
we see that
$\nabla^n[\Exp{αa}](a)
        = \Sum[k=0][n]\binom n k(-1)^k\Exp{αa-αk}
        % = \Exp{αa}\Sum[k=0][n]\binom n k(-1)^k\Exp{-αk}
        = (1-\Exp{-α})^n\Exp{αa}$.
\end{proof}
We now are ready to compute the generating function for the trace.
\begin{proposition}[Generating function for the trace of $\CU$]
\begin{equation}
        \Gen\trace = \Exp{αa+\pn*{ηξ+β(1-\Exp{-α})}t}
\end{equation}
\end{proposition}
\begin{proof}
        Using \cref{eq:findiffexp}, we see
        \begin{equation}
        \begin{aligned}
                \trace\pn{\Exp{η y} \Exp{β b} \Exp{α a} \Exp{ξ x}}
                &=\Sum[i, j, k]\trace\pn*{
                        \frac{(η y)^i}{i!}
                        \frac{(β b)^j}{j!}
                        \Exp{α a}
                        \frac{(ξ x)^k}{k!}
                }\\
                &=\Sum[i, j, k]\frac{η^i β^j ξ^k}{i! j! k!}
                        \trace\pn*{ y^i b^j \Exp{α a} x^k }\\
                &=\Sum[i, j, k]\frac{η^i β^j ξ^k}{i! j! k!}
                        δ_{ik}i!\nabla^j[\Exp{αa}](a)t^{i+j}\\
                &=\Sum[i, j]\frac{η^i β^j ξ^i}{i! j!}
                        (1-\Exp{-α})^j\Exp{αa}t^{i+j}\\
                &=\Exp{αa+\pn*{ηξ+β(1-\Exp{-α})}t}\qedhere
        \end{aligned}
        \end{equation}
\end{proof}

\section{Using generating functions to encode morphisms}
\subsection{The $\otimes$-$\hom$-adjunction on polynomial rings}
\subsection{Summary of \cite{bv}.}

\section{Implementing the trace in Mathematica™}
Currently, the implementation in Mathematica™ expects the generating functions
it receives to be the exponential of a quadratic expression in $y$ and $x$ when
$a$ and $b$ are held fixed. Since we have a nested exponential at the $ϵ=0$
case, we must extend the program to handle this non-Gaußian case.
\subsection{Comparing by-hand computations with what is implemented}
When truncating the trace to finite-degree, we can use the finite zip component
of the Mathematica™ program to verify the program. So far, the results are
rather similar, though not identical. I attribute this to small errors in my
graphical computation of the contractions.
\subsection{Modifying the program to handle $(β_i,\msc A_i)$-terms}

\section{Further directions}
\subsection{Finding the relationship with the (multivariable) Alexander
polynomial}
\subsection{Extending $\CU_{\Alg}$ to a ribbon Hopf algebra}
We want to define a ribbon Hopf algebra structure on $\CU_{\Alg}$
so that $\trace$
is a morphism of ribbon Hopf algebras $\map {\trace} {\CU} {\CU_{\Alg}}$.
\end{document}
