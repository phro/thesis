\documentclass{article}
\usepackage{math}
\usepackage[backend=biber]{biblatex}
\addbibresource{\jobname.bib}

\title{Computing the generating function of a coinvariants map}
\author{Jesse Frohlich}

\ProvideDocumentCommand{\fa}{}{\mfk{a}}
\ProvideDocumentCommand{\Alg}{}{\fg}
\ProvideDocumentCommand{\CU}{}{U}
\ProvideDocumentCommand{\nn}{}{\mathbf{n}}
\ProvideDocumentCommand{\Order}{}{\mathbb O}
\DeclarePairedDelimiterXPP{\Gen}[1]{\msc G}\lparen\rparen{}{#1}

\begin{document}
\maketitle

\begin{abstract}
        A rich source of quantum tangle invariants comes from universal
        enveloping algebras of quasitriangular Lie bialgebras. While such
        algebras are traditionally used to construct tangle invariants, it is
        also of interest to extend the invariants to links. Doing so amounts
        topologically to closing open strands, and algebraically to a defining a
        trace map on the algebra. We define a candidate trace map for the
        Drinfeld double of the nonabelian 2-dimensional Lie algebra by both
        constructing the space of coinvariants and describing the generating
        function of the corresponding map in a closed form.
\end{abstract}

\section{Introduction}

In \cite{BV}, Bar-Natan and Van der Veen define an invariant of tangles which
takes values in tensor powers of a (completed) universal enveloping algebra of a
Drinfeld double $D\fa$. Their work expresses the algebra operations as
cleverly-arranged generating functions to take advantage of computational
shortcuts.

To extend this invariant to one on links, one would need to define a trace
operator on $D\fa$. The first natural place to look is at the coinvariants
$\uea{D\fa}_{D\fa}$. In this article, we compute the coinvariants of
$\uea{D\fa}$ as well as the corresponding generating function.

\begin{definition}
        Denote by $\fa$ the non-commutative $2$-dimensional cocommutative Lie
        bialgebra spanned by $a$ and $x$ with relation $\liebk{a}{x} = x$.
        (This is also a Borel subalgebra of $\Sl_2$.)
\end{definition}

Recall from \cite{ES} that the Drinfeld double construction gives rise to a
quasitriangular Lie bialgebra $D\fa$ in the following way: As a vector space,
$D\fa = \fa \oplus \dual\fa$. Given $u \in \fa$ and $v\in \dual \fa$, we have
$\liebk{u}{v}_{D\fa} \defeq \dual\ad_u(v) - \dual\ad_v(u)$, extended bilinearly
and anticommutatively. The cobracket is given by
$δ_{D\fa} \defeq δ_\fa - δ_{\dual\fa}$.

Defining $b \defeq \dual a \in \dual\fa$ and $y \defeq \dual x \in \dual\fa$, we
have the relations $\liebk{a}{y}=-y$, $\liebk{x}{y}=b$, and $\liebk{b}{}=0$.
(The cobracket on $D\fa$ has values $δ(y) = y \wedge b$ and $δ(b) =
δ(a) = δ(x) = 0$, though this will not play a role in this article.)

In what follows, we will denote by $\fg$ the double $D\fa$, and by $U$ its
universal enveloping algebra $\uea{\fg} = \uea{D\fa}$.

\section{The coinvariants of $U$}

\begin{lemma}
        Let $\fg$ be a Lie algebra. Then $\uea{\fg}_{\uea{\fg}} =
        \uea{\fg}_\fg$.
\end{lemma}
\begin{proof}
        First, observe that for any $u$, $v$,
        $f\in\uea{\fg}$,  $\ad_{uv}(f) = \ad_u(vf) + \ad_v(fu)$. Proceeding
        inductively, by the linearity of $\ad$, any element of
        $\liebk*{\uea{\fg}}{\uea{\fg}}$ is a linear combination of elements of
        $\liebk*{\fg}{\uea{\fg}}$, hence
        $\liebk*{\uea{\fg}}{\uea{\fg}} = \liebk*{\fg}{\uea{\fg}}$.
\end{proof}

\begin{theorem}
        The space of coinvariants of $U$, $U_U$, is equal to
        $\Span\set{y^n a^k x^n}_{n, k\ge 0}$
\end{theorem}
\begin{proof}

Given a polynomial (respectively, power series) $f$, we have the following two
relations in $U$, (respectively, $\widehat U$)
\begin{align}
        f(a)y^r &= y^rf(a-r) &
        x^rf(a) &= f(a-r)x^r
\end{align}
Using these relations, we can compute the adjoint actions of $y$, $a$, and $x$
\begin{align}
  \ad_a f(x) &= xf'(x)&
  \ad_a f(y) &= -yf'(y)\label{eq:ada}\\
  \ad_x f(y) &= bf'(y) &
  \ad_x f(a) &= -\nabla[f](a)x\label{eq:adx}\\
  \ad_y f(x) &= -bf'(x) &
  \ad_y f(a) &= y\nabla[f](a)\label{eq:ady}
\end{align}
Here, $\nabla$ denotes the backwards difference operator $\nabla[f](x) \defeq
f(x) - f(x-1)$. Using the above commutation relations, we find a basis for
$U_{\fg}$ by determining $\liebk[\big] \fg U$. Observe for any $n$, $m$, $k$,
and polynomial $f$:
\begin{equation}\label{eq:adx_rel}
\ad_{x}\pn*{y^{n+1}b^{m-1}f(a)x^{k}} =
(n+1)y^{n}b^{m}f(a)x^{k} - y^{n+1}b^{m-1}\nabla[f](a)x^{k+1}
\end{equation}
Inductively applying the resulting relation in $U_{\fg}$, together with the
observation that for any polynomial $g$,
$\ad_a (y^m g(b, a) x^n ) = (n-m)y^mg(b, a) x^n$,
so any monomial whose powers of $y$ and $x$ differ vanish in $\CU_{\Alg}$. We
conclude that:
\begin{equation}
        y^n b^m f(a) x^k \sim δ_{nk}\frac{n!}{(n+m)!}y^{n+m}\nabla^m[f](a)x^{n+m}
\end{equation}
We conclude that $\CU_{\Alg}$ is spanned by expressions of the form
$y^n a^k x^n$.

All that remains to show is that these expressions are linearly independent. We
have already determined all the relations generated by $\ad_x$ and $\ad_a$.
Finally, $\ad_y$ introduces no new relations, since there is a symmetry between
$x$ and $y$. Specifically, observe:
\begin{equation}
        \ad_y\pn*{
                \frac1{k+1}y^n b^{m-1} f(a) x^{k+1}
        }
        =\frac1{k+1} y^{n+1} b^{m-1} \nabla[f](a)x^{k+1} - y^n b^m f(a) x^k
\end{equation}
which provides the same relation as \cref{eq:adx_rel}. We therefore conclude
that a basis for $\CU_{\Alg}$ is given by:
$\set[\big]{y^n a^k x^n}_{k, n \ge 0}$.
\end{proof}

\section{Generating function for the coinvariants map}

When defining a morphism-valued tangle invariant, one needs a compact way of
encoding the morphism. In \cite{BV} this is achieved through the use of
generating functions.

For $A$ and $B$ finite sets, consider the set $\hom(\polyring{\Q}{z_A},
\polyring{\Q}{z_B})$ of linear maps between multivariable polynomial rings. Such
a map is determined by its values on the monomials $z_A^\nn$ for each
$\nn \in \N^A$.

\begin{definition}[Exponential generating function]
        The \defi{exponential generating function} of a map
        $\map {Φ} {\polyring{\Q}{z_A}} {\polyring{\Q}{z_B}}$ between polynomial
        spaces is
        \begin{equation}
                \Gen{Φ} \defeq
                \Sum[\nn\in\N^A] \frac{Φ(z_A^\nn)}{\nn!}ζ_A^\nn
                \in \powerseries{\polyring{\Q}{z_B}}{ζ_A}
        \end{equation}
\end{definition}
\begin{remark}
        Extending the definition of $Φ$ to
        $\powerseries{\polyring{\Q}{z_B}}{ζ_A}$ by the identity along $ζ_A$
        gives us an equivalent formulation:
        \begin{equation}
                \Gen{Φ}
                = Φ\pn*{\Sum[\nn\in\N^A] \frac{(z_Aζ_A)^\nn}{\nn!}}
                = Φ\pn*{\Gen[\big]{\id_{\polyring{\Q}{z_A}}}}
        \end{equation}
\end{remark}

By the PBW theorem, we know that $\CU$ is isomorphic as a vector space to the
polynomial ring $\polyring{\Q}{y, b, a, x}$ via the ordering map:
\begin{equation}
        \mapdef {\Order} {\polyring{\Q}{y, b, a, x}} [\toiso] {\CU}
        {y^{n_1}b^{n_2}a^{n_3}x^{n_4}} {y^{n_1}b^{n_2}a^{n_3}x^{n_4}}
\end{equation}

Similarly, we define another isomorphism from the space of coinvariants to a
polynomial space
\begin{equation}
        \mapdef {ϕ} {\polyring{\Q}{a, z}} [\toiso] {\CU_\CU}
        {a^{n_2}z^{n_1}} {n_1!y^{n_1}a^{n_2}x^{n_1}}
\end{equation}

From here, we seek to fill in the commutative square
\begin{equation}
\begin{tikzcd}
        \CU
                \rar["\trace"]
        & \CU_\CU \\
        \polyring{\Q}{y, b, a, x}
                \uar["\Order"]
                \rar["τ"]
        &
        \polyring{\Q}{a, z}
                \uar["ϕ"]
\end{tikzcd}
\end{equation}

As $τ = \Order \then \trace \then ϕ$ is a linear map between vector spaces, we
seek to compute its generating function. This comes down to computing
$\trace\pn*{\Gen\id}= \trace\pn{\Exp{η y + β b + α a + ξ x}}$. To do this, we
begin with a result on finite differences:
\begin{lemma}\label{eq:findiffexp}
        The finite difference operator acts in the following way on
        exponentials:
        \begin{equation}
                \nabla^n[\Exp{αa}](a) = (1-\Exp{-α})^n\Exp{αa}
        \end{equation}
\end{lemma}
\begin{proof}
Using the formula $\nabla^n[f](x) = \Sum[k=0][n]\binom n k(-1)^kf(x-k)$
we see that
$\nabla^n[\Exp{αa}](a)
        = \Sum[k=0][n]\binom n k(-1)^k\Exp{αa-αk}
        % = \Exp{αa}\Sum[k=0][n]\binom n k(-1)^k\Exp{-αk}
        = (1-\Exp{-α})^n\Exp{αa}$.
\end{proof}
We now are ready to compute the generating function for the trace.
\begin{theorem}[Generating function for the trace of $\CU$]
\begin{equation}\label{eq:trace_formula}
        \Gen\trace = \Exp{αa+\pn*{ηξ+β(1-\Exp{-α})}z}
\end{equation}
\end{theorem}
\begin{proof}
        Using \cref{eq:findiffexp} and the extension of $\trace$ to
        $\powerseries{\polyring{\Q}{y, b, a, x}}{η, β, α, ξ}$, we see
        \begin{equation}
        \begin{aligned}
                \trace\pn{\Exp{η y} \Exp{β b} \Exp{α a} \Exp{ξ x}}
                &=\Sum[i, j, k]\trace\pn*{
                        \frac{(η y)^i}{i!}
                        \frac{(β b)^j}{j!}
                        \Exp{α a}
                        \frac{(ξ x)^k}{k!}
                }\\
                % &=\Sum[i, j, k]\frac{η^i β^j ξ^k}{i! j! k!}
                        % \trace\pn*{ y^i b^j \Exp{α a} x^k }\\
                % &=\Sum[i, j, k]\frac{η^i β^j ξ^k}{i! j! k!}
                        % δ_{ik}i!\nabla^j[\Exp{αa}](a)t^{i+j}\\
                &=\Sum[i, j]\frac{η^i β^j ξ^i}{i! j!}
                        (1-\Exp{-α})^j\Exp{αa}z^{i+j}
                =\Exp{αa+\pn*{ηξ+β(1-\Exp{-α})}z}\qedhere
        \end{aligned}
        \end{equation}
\end{proof}

\section{Further directions}
While all other Hopf algebra operations in $U$ are expressed by \cite{BV} as
perturbed Gaußians, the form in \cref{eq:trace_formula} does not to conform to
the same structure. Further work is needed to implement this operation into the
established framework.

\printbibliography
\end{document}
